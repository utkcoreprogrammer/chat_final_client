
<body>
    <div *ngIf="userService.isLoggedIn()" id= "user">
        <h4 class="self">Welcome, {{ currentUserName}}</h4>
    </div>
  <div class="container clearfix">
    <div class="col-md-4">
      <div class="people-list" id="people-list">
        <ul class="list">
          <li class="clearfix" *ngFor="let user of Users">
            <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/chat_avatar_01.jpg" alt="avatar" />
            <div class="about">
              <div class="name">
              <!--     <a id = "usernames" [queryParams]="{ name: user.username}" [routerLink]= "['chat_history']"> {{ user.username }} </a> -->
                  <a id = "usernames" (click) = "chatHistory(user)"> {{ user.username }} </a>
                </div>
          
              <div class="status" *ngIf = "user.isOnline" id="online">
                
              </div>
              <div class="status"  *ngIf = "!user.isOnline" id="offline">
                 
              </div>
               </div>
          </li>
       
          
     
          
       
        </ul>
      </div>  

        <div *ngIf = "userService.isLoggedIn()" id="logOut">
            <button id = "logout_btn" class="btn btn-success" (click) = "logOut()" >LogOut</button>
        </div> 
    </div>
 
    <div class="col-md-8">
      
<div class="chat">
  
        <div class="chat-header clearfix"> 
          <!-- <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/chat_avatar_01_green.jpg" alt="avatar" /> -->
          
       <div class="chat-about">
            <div class="chat-with">{{ username }} <span><i *ngIf="isTyping" class="isTyping"> is typing...</i></span></div>
           
          </div>
          <i class="fa fa-star"></i>
        </div> 
        
        <div class="chat-history">
          <ul>
            <div *ngFor="let item of messageData[0]">
            <li class="clearfix">
              <div *ngIf = "item.user == userService.getLoggedInUser().username">
              <div class="message-data align-right">
            
                <span class="message-data-name" >{{item.user}} </span> <i class="fa fa-circle me"></i>
                
              </div>
              <div class="message other-message float-right">
                {{item.message}}
              </div>
            </div>
            </li>
            
            <li>
              <div *ngIf = "item.user != userService.getLoggedInUser().username">
                <div class="message-data align-left">
            
                    <span class="message-data-name" >{{item.user}}  </span> <i class="fa fa-circle me"></i>
                    
                  </div>
          
              <div class="message my-message">
                {{item.message}}
              </div>
            </div>
            </li>
            
          
            
        
            
        
            </div>
          </ul>
          
        </div> 
        
         <div class="chat-message clearfix">
          <textarea (keypress)="typing()" [(ngModel)]="message" name="message" placeholder ="Type your message" rows="3"></textarea>
                  
          <i class="fa fa-file-o"></i> &nbsp;&nbsp;&nbsp;
          <i class="fa fa-file-image-o"></i>
        
          <button (click)="sendMessage()" class="btn btn-primary" id = "send">Send</button>
  
        </div> 
        
       </div> 
  </div>
  </div>
</body>